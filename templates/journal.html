{% extends "base.html" %}
{% set title = "Journal" %}
{% block content %}

<div class="grid md:grid-cols-2 gap-8 fade-in">

  <!-- LEFT: WRITE ENTRY -->
  <div class="card p-6 fade-in">
    
    <h1 class="text-2xl font-bold mb-4 text-indigo-300">
      Journal Entry
    </h1>

    <form method="post" class="space-y-4">

      <div>
        <label class="label text-indigo-200">Write your thoughts</label>
        <textarea name="content"
                  class="w-full rounded-xl p-3 bg-white/5 border border-white/10 
                         text-white placeholder-slate-400 h-40 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  placeholder="Free write what's on your mind..."
                  required></textarea>
      </div>

      <div class="mt-2 flex items-center gap-2">
        <span class="text-sm text-slate-400">Prompt:</span>
        <span class="badge">{{ prompt }}</span>
      </div>

      <button class="px-5 py-2 rounded-full bg-gradient-to-r from-indigo-500 to-indigo-700 
                     text-white shadow-lg hover:scale-[1.03] transition">
        Save Entry
      </button>

    </form>
  </div>


  <!-- RIGHT: LIST OF ENTRIES -->
  <div class="card p-6 fade-in">
    <h2 class="text-2xl font-semibold mb-3 text-indigo-300">Your Entries</h2>

    {% if entries %}
      <ul class="mt-3 space-y-4">
        
        {% for e in entries %}
        <li class="p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition">

          <div class="text-xs text-slate-400 mb-1">
            {{ e.created_at }}
          </div>

          <div class="text-slate-200 whitespace-pre-wrap">
            {{ e.content }}
          </div>

        </li>
        {% endfor %}

      </ul>

    {% else %}
      <p class="text-slate-400 mt-4">You havenâ€™t written anything yet.</p>
    {% endif %}

  </div>

</div>

{% endblock %}
