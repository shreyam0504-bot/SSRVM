{% extends "base.html" %}
{% set title = "CBT Helper" %}
{% block content %}
<div class="max-w-3xl mx-auto card p-6">
  <h1 class="text-xl font-bold mb-2">Thought reframing</h1>
  <form method="post">
    <label class="label">What happened?</label>
    <input name="situation" class="w-full border rounded p-2 mb-3" placeholder="E.g., I got a low grade on a quiz">
    <label class="label">Automatic thought</label>
    <input name="thought" class="w-full border rounded p-2 mb-3" placeholder="I'm a failure">
    <label class="label">Feeling (0-10)</label>
    <input name="feeling" type="number" min="0" max="10" class="w-full border rounded p-2 mb-4">
    <button class="px-4 py-2 rounded-full bg-gradient-to-r from-indigo-500 to-indigo-700 text-white shadow hover:opacity-90 transition">Reframe</button>
  </form>

  {% if reframe %}
    <div class="mt-6 p-4 border rounded bg-indigo-50">
      <h3 class="font-semibold mb-2">Gentle reframe</h3>
      <p>{{ reframe }}</p>
    </div>
  {% endif %}
</div>
{% endblock %}
